<!DOCTYPE html>
<html>
<head>
	<title>Image Upload</title>
	<link rel="stylesheet" type="text/css" href="/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="/css/style.css">
</head>
<body>
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner navbar-inner-padding">
		    <a class="brand" href="#">上传图片</a>
		    <ul class="nav">
		      <li class="active"><a href="#">测试</a></li>
		      <li><a href="#">测试</a></li>
		      <li><a href="#">测试</a></li>
		    </ul>
		</div>
	</div>			
	<div class="container">
		<div class="row">
			<div class="span6 offset3 upload">
				<div class="upload-wrap" draggable="true" ondragenter="return false" ondragover="return false">
					<h4 id="upload-image-name" class="invisible">暂无文件</h4>
					<form class="upload-form" target="for-response" method="post" action="/upload" enctype="multipart/form-data">
						<input id="btn-file-select" type="button" class="btn btn-large" value="选择上传图片">
						<input id="btn-file-image" type="file" name="image" class="hide">
					</form>
					<h2 class="tip-drag">还可以把图片拖拽到这</h2>
					<iframe src="" class="hide" name="for-response"></iframe>
				</div>
				<div class="progress-component hide">
					<div class="hide progress progress-striped active">
						<div class="bar" style="width: 10%;"></div>
					</div>
					<h4 class="tip-upload-status">等待上传</h4>				
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="/js/lib/jquery-1.9.1.min.js"></script>	
	<script type="text/javascript" src="/js/module/filereader.js"></script>		
	<script type="text/javascript" src="/js/module/drag.js"></script>

	<script type="text/javascript">
		$(function () {
			Drag.init($('.upload-wrap'));

			// 选择文件
			$('#btn-file-select').click(function () {
				$('#btn-file-image').click();
			})

			// 已经选择文件，获取名字
			$('#btn-file-image').change(function () {
				var name = $(this).val().split('\\');
				name = name[name.length - 1];
				$('#upload-image-name').text(name);
			})
		})	
	</script>
</body>
</html>